#!/usr/bin/make -f
TARGET = render
ARTICLES = $(addprefix $(TARGET)/,$(wildcard articles/*.html))
.PHONY: all

all: $(TARGET)/articles $(TARGET)/index.html $(TARGET)/rss.xml $(ARTICLES)

$(TARGET)/articles:
	mkdir -p $(TARGET)/articles

$(TARGET)/index.html: articles/*.html
	./ncrender index $^ > $@

%/rss.xml: %/index.html
	./ncrender rss $^ > $@

$(TARGET)/articles/%.html: articles/%.html
	./ncrender item $^ > $@
