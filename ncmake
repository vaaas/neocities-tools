#!/usr/bin/make -f

.PHONY: all

TARGET = render

ARTICLES := $(wildcard posts/*/*.html)
ARTICLES := $(basename $(ARTICLES))

all: $(TARGET)/index.html $(TARGET)/rss.xml

$(TARGET)/index.html: posts/*.html
	./ncrender index $^ > $@

%/rss.xml: %/index.html
	./ncrender rss $^ > $@

$(TARGET)/%.html: posts/%.html
	./ncrender item $^ > $@
